import { useState } from "react";
import { useNavigate } from "react-router-dom";

interface SidebarProps {
  onSair?: () => void;
}

export default function Sidebar({ onSair }: SidebarProps) {
  const [activeItem, setActiveItem] = useState("dashboard");
  const navigate = useNavigate();

  const menuItems = [
    {
      id: "dashboard",
      nome: "Dashboard",
      icon: (
        <svg
          className="h-5 w-5 flex-shrink-0"
          width="20"
          height="20"
          viewBox="0 0 20 20"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="M11.6599 17.485L11.6599 10.845L8.33993 10.845L8.33993 17.485C8.33993 17.9434 7.96832 18.315 7.50993 18.315C7.05154 18.315 6.67993 17.9434 6.67993 17.485L6.67993 10.845C6.67993 10.4048 6.85495 9.98263 7.16626 9.67129C7.47757 9.36004 7.89967 9.185 8.33993 9.185L11.6599 9.185C12.1002 9.185 12.5223 9.36004 12.8336 9.67129C13.1449 9.98263 13.3199 10.4048 13.3199 10.845L13.3199 17.485C13.3199 17.9434 12.9483 18.315 12.4899 18.315C12.0315 18.315 11.6599 17.9434 11.6599 17.485Z" fill="currentColor" />
          <path d="M16.64 8.33466L16.6351 8.24469C16.6253 8.15509 16.601 8.06745 16.5629 7.98532C16.5121 7.87582 16.4379 7.77875 16.3457 7.70082L16.3417 7.69677L10.5357 2.72082C10.4046 2.60998 10.2428 2.54371 10.0729 2.52872L9.99995 2.52548C9.80382 2.52548 9.614 2.59502 9.46419 2.72163L9.46336 2.72082L3.65824 7.69677L3.65418 7.70082C3.56199 7.77875 3.48776 7.87582 3.43695 7.98532C3.38618 8.09477 3.35995 8.21402 3.35995 8.33466L3.35995 15.8047C3.35995 16.0248 3.44746 16.2366 3.60312 16.3923C3.75875 16.5479 3.96993 16.6347 4.18995 16.6347L15.81 16.6347C16.03 16.6347 16.2411 16.5479 16.3968 16.3923C16.5525 16.2366 16.64 16.0248 16.64 15.8047L16.64 8.33466ZM18.3 15.8047C18.3 16.465 18.0374 17.099 17.5705 17.566C17.1035 18.0328 16.4702 18.2947 15.81 18.2947L4.18995 18.2947C3.52966 18.2947 2.89639 18.0328 2.42945 17.566C1.96248 17.099 1.69995 16.465 1.69995 15.8047L1.69995 8.33466C1.69995 7.9727 1.77863 7.61498 1.93096 7.28663C2.08339 6.95812 2.30606 6.66691 2.58264 6.43313L8.38859 1.45718L8.39266 1.45393L8.56687 1.31938C8.98494 1.02512 9.48519 0.865479 9.99995 0.865479L10.2196 0.875206C10.6561 0.913851 11.0746 1.06718 11.433 1.31938L11.6072 1.45393L11.6113 1.45718L17.4172 6.43313L17.5186 6.5231C17.7485 6.73998 17.9356 6.99915 18.069 7.28663C18.2213 7.61498 18.3 7.9727 18.3 8.33466V15.8047Z" fill="currentColor" />
        </svg>
      ),
    },
    {
      id: "registrar-desvio",
      nome: "Registrar Desvio",
      icon: (
        <svg
          className="h-5 w-5 flex-shrink-0"
          width="20"
          height="20"
          viewBox="0 0 20 20"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="M2.53003 16.64L2.53003 3.36C2.53003 2.69961 2.79256 2.06646 3.25952 1.59949C3.72649 1.13252 4.35964 0.869995 5.02003 0.869995L12.49 0.869995L12.5719 0.874045C12.7619 0.892878 12.9406 0.976924 13.0768 1.11316L17.2268 5.26316C17.3825 5.41882 17.47 5.62986 17.47 5.85L17.47 16.64C17.47 17.3004 17.2075 17.9335 16.7405 18.4005C16.2736 18.8675 15.6405 19.13 14.98 19.13L5.02003 19.13C4.35964 19.13 3.72649 18.8675 3.25952 18.4005C2.79256 17.9335 2.53003 17.3003 2.53003 16.64ZM4.19003 16.64C4.19003 16.8601 4.27754 17.0712 4.43319 17.2268C4.58885 17.3825 4.7999 17.47 5.02003 17.47L14.98 17.47C15.2001 17.47 15.4112 17.3825 15.5668 17.2268C15.7225 17.0712 15.81 16.8601 15.81 16.64L15.81 6.19367L12.1463 2.53L5.02003 2.53C4.7999 2.53 4.58885 2.6175 4.43319 2.77316C4.27754 2.92882 4.19003 3.13986 4.19003 3.36L4.19003 16.64Z" fill="currentColor" />
          <path d="M10.8501 4.99998L10.8501 1.67998C10.8501 1.22158 11.2217 0.849976 11.6801 0.849976C12.1385 0.849976 12.5101 1.22158 12.5101 1.67998L12.5101 4.99998C12.5101 5.22011 12.5976 5.43115 12.7533 5.58681C12.9089 5.74247 13.12 5.82998 13.3401 5.82998L16.6601 5.82998C17.1185 5.82998 17.4901 6.20158 17.4901 6.65998C17.4901 7.11837 17.1185 7.48998 16.6601 7.48998L13.3401 7.48998C12.6797 7.48998 12.0465 7.22745 11.5796 6.76048C11.1126 6.29351 10.8501 5.66037 10.8501 4.99998Z" fill="currentColor" />
          <path d="M12.4899 11.67C12.9483 11.67 13.3199 12.0416 13.3199 12.5C13.3199 12.9584 12.9483 13.33 12.4899 13.33L7.50993 13.33C7.05154 13.33 6.67993 12.9584 6.67993 12.5C6.67993 12.0416 7.05154 11.67 7.50993 11.67L12.4899 11.67Z" fill="currentColor" />
          <path d="M9.16992 14.99L9.16992 10.01C9.16992 9.55158 9.54151 9.17999 9.99992 9.17999C10.4583 9.17999 10.8299 9.55158 10.8299 10.01L10.8299 14.99C10.8299 15.4484 10.4583 15.82 9.99992 15.82C9.54151 15.82 9.16992 15.4484 9.16992 14.99Z" fill="currentColor" />
        </svg>
      ),
    },
    {
      id: "processos",
      nome: "Processos",
      icon: (
        <svg
          className="h-5 w-5 flex-shrink-0"
          width="20"
          height="20"
          viewBox="0 0 20 20"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="M11.4753 9.84087C11.7994 9.51675 12.3249 9.51684 12.649 9.84087C12.9731 10.165 12.9731 10.6904 12.649 11.0145L6.00902 17.6545C5.5536 18.1099 4.94625 18.3781 4.30606 18.41L4.17718 18.4132C3.49015 18.4131 2.83115 18.1403 2.34534 17.6545C1.85955 17.1687 1.58667 16.5098 1.58667 15.8227C1.58667 15.1356 1.85955 14.4767 2.34534 13.9909L8.98532 7.35084C9.30944 7.02674 9.83491 7.0268 10.159 7.35084C10.4831 7.67497 10.4831 8.20037 10.159 8.52449L3.51902 15.1645C3.34454 15.339 3.24667 15.5759 3.24667 15.8227C3.24667 16.0694 3.34454 16.3063 3.51902 16.4809C3.69351 16.6553 3.93042 16.7531 4.17718 16.7532L4.26958 16.7491C4.48252 16.728 4.68268 16.6334 4.83534 16.4809L11.4753 9.84087Z" fill="currentColor" />
          <path d="M17.7332 7.75311C18.0573 7.42898 18.5827 7.42898 18.9068 7.75311C19.2309 8.07724 19.2309 8.60264 18.9068 8.92675L13.9268 13.9068C13.6027 14.231 13.0773 14.231 12.7532 13.9068C12.429 13.5826 12.429 13.0572 12.7532 12.7331L17.7332 7.75311Z" fill="currentColor" />
          <path d="M11.0732 1.09314C11.3974 0.769003 11.9227 0.769003 12.2469 1.09314C12.571 1.41727 12.571 1.94268 12.2469 2.26681L7.26687 7.24681C6.94273 7.57095 6.41734 7.57095 6.0932 7.24681C5.76906 6.92268 5.76906 6.39727 6.0932 6.07314L11.0732 1.09314Z" fill="currentColor" />
          <path d="M6.92315 5.26311C7.22702 4.95923 7.7076 4.94048 8.0336 5.20637L8.09682 5.26311L14.7368 11.9031L14.7936 11.9663C15.0595 12.2923 15.0407 12.7729 14.7368 13.0768C14.4329 13.3806 13.9524 13.3994 13.6264 13.1335L13.5632 13.0768L6.92315 6.43678L6.86641 6.37356C6.60052 6.04756 6.61927 5.56699 6.92315 5.26311Z" fill="currentColor" />
          <path d="M10.2632 1.92315C10.5671 1.61927 11.0477 1.60052 11.3737 1.86641L11.4369 1.92315L18.0769 8.56317L18.1336 8.62633C18.3996 8.95236 18.3808 9.43293 18.0769 9.73679C17.773 10.0407 17.2924 10.0594 16.9665 9.79356L16.9032 9.73679L10.2632 3.09682L10.2065 3.0336C9.94061 2.7076 9.95937 2.22703 10.2632 1.92315Z" fill="currentColor" />
        </svg>
      ),
    },
    {
      id: "funcionarios",
      nome: "Funcionários",
      icon: (
        <svg
          className="h-5 w-5 flex-shrink-0"
          width="20"
          height="20"
          viewBox="0 0 20 20"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="M12.4801 17.49V15.83C12.4801 15.1696 12.2176 14.5364 11.7506 14.0695C11.3421 13.661 10.8064 13.4088 10.2365 13.3521L9.99011 13.34H5.01011C4.34972 13.34 3.71657 13.6025 3.2496 14.0695C2.78264 14.5364 2.52011 15.1696 2.52011 15.83L2.52011 17.49C2.52011 17.9484 2.1485 18.32 1.69011 18.32C1.23171 18.32 0.860107 17.9484 0.860107 17.49L0.860107 15.83C0.860107 14.7293 1.29765 13.6741 2.07592 12.8958C2.85421 12.1176 3.90946 11.68 5.01011 11.68H9.99011L10.1959 11.6849C11.2217 11.7358 12.1947 12.1662 12.9243 12.8958C13.7025 13.6741 14.1401 14.7293 14.1401 15.83V17.49C14.1401 17.9484 13.7685 18.32 13.3101 18.32C12.8517 18.32 12.4801 17.9484 12.4801 17.49Z" fill="currentColor" />
          <path d="M14.9919 5.83006C14.9919 5.27853 14.809 4.74245 14.4715 4.30624C14.1761 3.92444 13.7768 3.63784 13.3238 3.47948L13.1268 3.4195L13.0458 3.39437C12.6513 3.2482 12.4241 2.82394 12.5319 2.40794C12.6398 1.99204 13.0443 1.73219 13.46 1.79597L13.5435 1.81299L13.7088 1.85919C14.5309 2.10901 15.2563 2.6089 15.7838 3.29062C16.3464 4.01768 16.6519 4.91075 16.6519 5.83006C16.6519 6.74938 16.3464 7.64244 15.7838 8.36954C15.2212 9.09654 14.4334 9.61645 13.5435 9.84711C13.0998 9.96215 12.647 9.6958 12.5319 9.25217C12.4169 8.80853 12.6832 8.35568 13.1268 8.24063C13.6608 8.1022 14.134 7.79014 14.4715 7.35389C14.8091 6.91768 14.9919 6.3816 14.9919 5.83006Z" fill="currentColor" />
          <path d="M17.4952 17.4903V15.8311L17.4863 15.6252C17.4463 15.147 17.269 14.6888 16.9732 14.3073C16.6774 13.9257 16.2779 13.6393 15.8247 13.4814L15.6277 13.4213L15.5466 13.3962C15.152 13.2504 14.9245 12.8267 15.0319 12.4106C15.1394 11.9947 15.5435 11.7337 15.9592 11.797L16.0427 11.8148L16.2081 11.861C17.0305 12.1101 17.7573 12.6086 18.2855 13.29C18.8488 14.0167 19.1545 14.91 19.1552 15.8295V17.4903C19.1551 17.9487 18.7835 18.3203 18.3252 18.3203C17.8669 18.3203 17.4953 17.9487 17.4952 17.4903Z" fill="currentColor" />
          <path d="M9.9901 5.82999C9.9901 4.45481 8.87533 3.33999 7.5001 3.33999C6.12491 3.33999 5.0101 4.45481 5.0101 5.82999C5.0101 7.20518 6.12491 8.31999 7.5001 8.31999C8.87533 8.31999 9.9901 7.20518 9.9901 5.82999ZM11.6501 5.82999C11.6501 8.12197 9.79206 9.97999 7.5001 9.97999C5.20812 9.97999 3.3501 8.12197 3.3501 5.82999C3.3501 3.53801 5.20812 1.67999 7.5001 1.67999C9.79206 1.67999 11.6501 3.53801 11.6501 5.82999Z" fill="currentColor" />
        </svg>
      ),
    },
  ];

  return (
    <div className="flex h-full w-56 md:w-64 flex-col border-r border-sis-border bg-white">
      <div className="flex flex-1 flex-col p-2">
        <div className="mb-2 flex items-center px-2 py-2">
          <svg className="h-6 w-6 flex-shrink-0" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect width="24" height="24" stroke="white" />
            <path d="M9.475 16.1803C9.66665 15.4805 10.3923 15.0629 11.0921 15.2545C11.7919 15.4461 12.2096 16.1718 12.018 16.8716L11.001 20.6633C10.9196 20.9676 10.6246 21.1479 10.3203 21.0665L9.34354 20.8036C9.03922 20.7222 8.85886 20.4272 8.94028 20.1229L9.475 16.1803Z" fill="#0F74C7" />
            <path d="M13.9681 14.2019C14.397 13.773 15.0855 13.773 15.5144 14.2019L18.399 17.0864C18.6395 17.3269 18.6395 17.7163 18.399 17.9569L17.6121 18.7438C17.3716 18.9843 16.9823 18.9843 16.7418 18.7438L13.8573 15.8593C13.4283 15.4304 13.4283 14.742 13.8573 14.3131Z" fill="#0F74C7" />
          </svg>
          <h1 className="ml-2 font-open-sans text-lg font-bold italic text-sis-blue">SisDisciplinar</h1>
        </div>
        {/* Menu de Navegação */}
        <div className="mb-auto space-y-1 p-2">
          {menuItems.map((item) => (
            <button
              key={item.id}
              onClick={() => { setActiveItem(item.id); if (item.id === "dashboard") navigate("/gestor"); if (item.id === "registrar-desvio") navigate("/gestor/registrar"); if (item.id === "processos") navigate("/gestor/processos"); if (item.id === "funcionarios") navigate("/gestor/funcionarios"); }}
              className={`flex w-full items-center space-x-3 rounded-md px-3 py-2.5 text-left font-roboto text-sm font-medium transition-colors ${
                activeItem === item.id
                  ? "bg-gray-100 text-sis-dark-text"
                  : "text-sis-secondary-text hover:bg-gray-50 hover:text-sis-dark-text"
              }`}
            >
              <div
                className={
                  activeItem === item.id ? "text-sis-dark-text" : "text-sis-secondary-text"
                }
              >
                {item.icon}
              </div>
              <span>{item.nome}</span>
            </button>
          ))}
        </div>

        {/* Botão Sair */}
        <div className="p-2">
          <button
            onClick={onSair}
            className="flex w-full items-center justify-center space-x-4 rounded-md bg-red-500 px-3 py-2.5 font-roboto text-sm font-medium text-white hover:bg-red-600"
          >
            <svg
              className="h-4 w-4"
              width="17"
              height="16"
              viewBox="0 0 17 16"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path d="M1.82007 12.69L1.82007 3.31C1.82007 2.77692 2.03199 2.26582 2.40894 1.88887C2.78589 1.51192 3.29698 1.3 3.83007 1.3L6.51007 1.3C6.8801 1.3 7.18007 1.59998 7.18007 1.97C7.18007 2.34003 6.8801 2.64 6.51007 2.64L3.83007 2.64C3.65237 2.64 3.48201 2.71064 3.35636 2.83629C3.23071 2.96194 3.16007 3.13231 3.16007 3.31L3.16007 12.69C3.16007 12.8677 3.23071 13.0381 3.35636 13.1637C3.48201 13.2894 3.65237 13.36 3.83007 13.36H6.51007C6.8801 13.36 7.18007 13.66 7.18007 14.03C7.18007 14.4 6.8801 14.7 6.51007 14.7H3.83007C3.29698 14.7 2.78589 14.4881 2.40894 14.1111C2.03199 13.7342 1.82007 13.2231 1.82007 12.69Z" fill="white" />
              <path d="M10.6814 4.1763C10.9267 3.931 11.3146 3.91586 11.5777 4.1305L11.6288 4.1763L14.9788 7.52631C15.2404 7.78795 15.2404 8.21205 14.9788 8.47369L11.6288 11.8237C11.3671 12.0854 10.943 12.0854 10.6814 11.8237C10.4197 11.5621 10.4197 11.1379 10.6814 10.8763L13.5576 8L10.6814 5.12372L10.6356 5.07268C10.4209 4.80953 10.436 4.42159 10.6814 4.1763Z" fill="white" />
              <path d="M14.5201 7.33C14.8901 7.33 15.1901 7.62996 15.1901 8C15.1901 8.37004 14.8901 8.67 14.5201 8.67L6.48006 8.67C6.11003 8.67 5.81006 8.37004 5.81006 8C5.81006 7.62996 6.11003 7.33 6.48006 7.33L14.5201 7.33Z" fill="white" />
            </svg>
            <span>Sair</span>
          </button>
        </div>
      </div>
    </div>
  );
}
